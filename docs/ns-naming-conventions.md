# NS å‘½åè§„èŒƒæ–‡æ¡£ï¼ˆns-naming-conventions.mdï¼‰

**æ–‡æ¡£ID**ï¼šns-naming-conventions
**æœ€åæ›´æ–°æ—¶é—´**ï¼š2025-09-04
**ç»´æŠ¤è€…**ï¼šT oï¼ˆæ€»æ¶æ„å¸ˆï¼‰ + AI åä½œæ”¯æŒ

---

## ğŸ¯ æ–‡æ¡£ç›®çš„

æœ¬è§„èŒƒæ–‡æ¡£ç”¨äºç»Ÿä¸€ NS é¡¹ç›®åœ¨ GCP å„ç±»èµ„æºã€ä»£ç ç›®å½•ã€é…ç½®é”®åã€æ—¥å¿—å­—æ®µç­‰æ–¹é¢çš„å‘½åè§„åˆ™ï¼Œç¡®ä¿æ•´ä½“å·¥ç¨‹å…·å¤‡ä¸€è‡´æ€§ã€å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚

---

## ğŸŒ GCP èµ„æºå‘½åè§„èŒƒ

| èµ„æºç±»å‹                 | å‘½åè§„åˆ™                                   | ç¤ºä¾‹                        |
| -------------------- | -------------------------------------- | ------------------------- |
| é¡¹ç›®åç§°                 | `ns-[env]`                             | `ns-dev`, `ns-prod`       |
| Cloud Function       | `func-[job]`                           | `func-apod-daily`         |
| Cloud Run æœåŠ¡         | `api-[name]`                           | `api-config-viewer`       |
| Pub/Sub Topic        | `topic-[name]`                         | `topic-job-dispatch`      |
| Pub/Sub Subscription | `sub-[topic]-[purpose]`                | `sub-job-dispatch-logger` |
| Firestore é›†åˆå        | `job_config`, `job_status`, `failures` | å›ºå®šå‘½åï¼Œé¿å…è¯¯æ“ä½œ                |
| Cloud Storage Bucket | `ns-temp-[env]`                        | `ns-temp-dev`             |

> æ‰€æœ‰èµ„æºå‘½åéµå¾ªå°å†™ã€çŸ­æ¨ªçº¿è¿æ¥ï¼Œä¸ä½¿ç”¨ä¸‹åˆ’çº¿ã€é©¼å³°ã€ç©ºæ ¼ã€‚

---

## ğŸ§© ä»£ç ä¸ç›®å½•ç»“æ„å‘½å

### Monorepo ç»“æ„

| ç±»åˆ«           | å‘½åç¤ºä¾‹                               |
| ------------ | ---------------------------------- |
| é¡¹ç›®æ ¹ç›®å½•        | `ns/`                              |
| GCP å‡½æ•°ç›®å½•     | `apps/[job]/` â†’ `apps/apod/`       |
| Terraform é…ç½® | `infra/gcp/` / `infra/cloudflare/` |
| å…¬å…±å·¥å…·å‡½æ•°       | `packages/utils/`                  |
| éƒ¨ç½²è„šæœ¬         | `scripts/deploy_[target].sh`       |
| æ–‡æ¡£ç›®å½•         | `docs/`                            |

---

## âš™ï¸ Terraform å‘½åçº¦å®š

| ç±»å‹     | è§„åˆ™                                       |
| ------ | ---------------------------------------- |
| èµ„æºåç§°å‰ç¼€ | æŒ‰åŠŸèƒ½æ¨¡å— + ç¯å¢ƒç»„åˆï¼Œä¾‹å¦‚ `apod_dev_scheduler`     |
| å˜é‡å    | `snake_case` é£æ ¼ï¼Œå¦‚ `project_id`, `region` |
| è¾“å‡ºå˜é‡   | ç»Ÿä¸€æ·»åŠ æ¨¡å—å‰ç¼€ï¼Œå¦‚ `apod_function_url`           |
| æ¨¡å—ç›®å½•   | `modules/[resource_type]/`               |

---

## ğŸ“„ æ–‡æ¡£ä¸æ—¥å¿—å­—æ®µå‘½å

### æ–‡æ¡£æ–‡ä»¶å

* å‘½åæ ¼å¼ï¼š`ns-[æ–‡æ¡£å†…å®¹è¯´æ˜].md`
* ç¤ºä¾‹ï¼š`ns-security-policy.md`, `ns-data-design.md`

### æ—¥å¿—å­—æ®µå‘½å

| å­—æ®µå            | è¯´æ˜                      |
| -------------- | ----------------------- |
| `trace_id`     | ç”¨äºå…¨é“¾è·¯è¿½è¸ªï¼ˆæ¥æºäº Pub/Sub æ¶ˆæ¯ï¼‰ |
| `job_id`       | å½“å‰ä»»åŠ¡ç±»å‹ï¼Œå¦‚ `apod-daily`   |
| `execution_id` | æŸæ¬¡å‡½æ•°æ‰§è¡Œçš„å”¯ä¸€æ ‡è¯†             |
| `status`       | æˆåŠŸ/å¤±è´¥çŠ¶æ€å­—æ®µ               |
| `duration_ms`  | æ‰§è¡Œè€—æ—¶ï¼ˆæ¯«ç§’ï¼‰                |

---

## ğŸ§  å‘½ååŸåˆ™æ€»ç»“

1. **ç»Ÿä¸€é£æ ¼**ï¼šå°å†™ + çŸ­æ¨ªçº¿ï¼Œç”¨äºæ‰€æœ‰ GCP èµ„æºä¸å¯è§†æ ‡è¯†
2. **ç¯å¢ƒéš”ç¦»**ï¼šdev/test/prod æ˜ç¡®ä½“ç°åœ¨å‘½åä¸­ï¼ˆå°¤å…¶æ˜¯èµ„æºåã€bucketï¼‰
3. **å¯è¯»å¯æ’åº**ï¼šæ—¥å¿—å­—æ®µä½¿ç”¨æœ‰åºå­—æ®µåï¼Œæ”¯æŒ BigQuery æˆ–å…¶ä»–ç»“æ„åŒ–æŸ¥è¯¢
4. **æ— æ­§ä¹‰**ï¼šé¿å… job / task / function ç­‰å‘½åé‡å 
5. **æ¥å£å³æ–‡æ¡£**ï¼šå‘½åä¸­å°½é‡ä½“ç°ç”¨é€”ï¼Œå¦‚ `topic-job-dispatch`

---

## âœ… æ¨èé˜…è¯»

* [`ns-resource-inventory.md`](./ns-resource-inventory.md)
* [`ns-observability-guidelines.md`](./ns-observability-guidelines.md)
* [`ns-architecture-summary.md`](./ns-architecture-summary.md)
